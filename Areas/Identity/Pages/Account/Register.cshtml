@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
}
 <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
           <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
           <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<h1>@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-4">
        <form asp-route-returnUrl="@Model.ReturnUrl" method="post">
            <h4>Create a new account.</h4>
            <hr />
            <div asp-validation-summary="All" class="text-danger"></div>
             
              <div class="form-group">
                <label asp-for="Input.Role"></label>
                @* Hulpverlener kan alleen een client en ouder registreren. Een moderator kan alleen een hulpverlener en moderator registreren *@
                @if(User.IsInRole("Moderator")){
                <select asp-for="Input.Role" class="form-control" > 
                    <option value="Hulpverlener">Hulpverlener</option>
                    <option value="Moderator">Moderator</option>
                    </select>
                }

                 @if(User.IsInRole("Hulpverlener")){
                <select asp-for="Input.Role" class="form-control" > 
                    <option value="Client">Client</option>
                    <option value="Ouder">Ouder</option>
                </select> 
                 }

                @* <input asp-for="Input.Role" class="form-control" /> *@

                <span asp-validation-for="Input.Role" class="text-danger"></span>
            </div>

                @* Hier wordt een orthopedagoog/hulpverlener aangemaakt, dit kan alleen de moderator*@
            @if(User.IsInRole("Moderator")){
                <div class="form-group">
                <label asp-for="Input.wiebenik"></label>
                <input asp-for="Input.wiebenik" class="form-control" />
                <span asp-validation-for="Input.wiebenik" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="Input.voornaam"></label>
                <input asp-for="Input.voornaam" class="form-control" />
                <span asp-validation-for="Input.voornaam" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.achternaam"></label>
                <input asp-for="Input.achternaam" class="form-control" />
                <span asp-validation-for="Input.achternaam" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.specialisme"></label>
                <input asp-for="Input.specialisme" class="form-control" />
                <span asp-validation-for="Input.specialisme" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.mijnstudie"></label>
                <input asp-for="Input.mijnstudie" class="form-control" />
                <span asp-validation-for="Input.mijnstudie" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.watals"></label>
                <input asp-for="Input.watals" class="form-control" />
                <span asp-validation-for="Input.watals" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Input.hoehelpen"></label>
                <input asp-for="Input.hoehelpen" class="form-control" />
                <span asp-validation-for="Input.hoehelpen" class="text-danger"></span>
            </div>

            }

            @* Voornaam invoeren
            <div class="form-group">
                <label asp-for="Input.Email"></label>
                <input asp-for="Input.Email" class="form-control" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            Achternaam invoeren
            <div class="form-group">
                <label asp-for="Input.Email"></label>
                <input asp-for="Input.Email" class="form-control" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div> *@



            @* Email invoeren *@
            <div class="form-group">
                <label asp-for="Input.Email"></label>
                <input asp-for="Input.Email" class="form-control" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            @* Wachtwoord maken *@
            <div class="form-group">
                <label asp-for="Input.Password"></label>
                <input asp-for="Input.Password" class="form-control" />
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>

            @* Wachtwoord bevestigen *@
            <div class="form-group">
                <label asp-for="Input.ConfirmPassword"></label>
                <input asp-for="Input.ConfirmPassword" class="form-control" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>

            
           <button type="submit" id="submit" class="btn btn-primary">Try it</button>
           
           @* <script>
               $("#submit").click(function(){
                   
                   swal({
            title: "Gelukt!",
            text: "Account succesvol aangemaakt",
            icon: "success",
            button: "Oke",
        });
               });
           </script> *@

            @* <script>
            function myFunction() {
             alert("I am an alert box!");
            }
            </script> *@
        </form>
    </div>
    <div class="col-md-6 col-md-offset-2">
        <section>
            <h4>Use another service to register.</h4>
            <hr />
            @{
                if ((Model.ExternalLogins?.Count ?? 0) == 0)
                {
                    <div>
                        <p>
                            There are no external authentication services configured. See <a href="https://go.microsoft.com/fwlink/?LinkID=532715">this article</a>
                            for details on setting up this ASP.NET application to support logging in via external services.
                        </p>
                    </div>
                }
                else
                {
                    <form id="external-account" asp-page="./ExternalLogin" asp-route-returnUrl="@Model.ReturnUrl" method="post" class="form-horizontal">
                        <div>
                            <p>
                                @foreach (var provider in Model.ExternalLogins)
                                {
                                    <button type="submit" class="btn btn-primary" name="provider" value="@provider.Name" title="Log in using your @provider.DisplayName account">@provider.DisplayName</button>
                                }
                            </p>
                        </div>
                    </form>
                }
            }
        </section>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}

<script> 
            var referrer = document.referrer;
            if (document.referrer == "https://localhost:5001/Identity/Account/Register?returnUrl=%2F" || document.referrer == "https://localhost:5001/Identity/Account/Register" || document.referrer == "https://localhost:5001/identity/Account/Register" || document.referrer == "https://localhost:5001/Identity/Account/register"){
            Swal.fire({
  icon: 'error',
  title: 'Oops...',
  text: 'E-mail adres is in gebruik!',
})
    }
</script>